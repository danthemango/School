00000000
00000011 pushext PSW       save PSW
11111111
11111011
00000010 pushimm R-L       save R:
00010011
00000010 pushimm R-H
00000000
00000011 pushext B         n := B
11111111
11111101
00000010 pushimm 0         clear Z flag
00000000
00000101 popext PSW
11111111
11111011
00000110 jnz X
00000000
00011000
00000101 popext PSW        R: restore PSW
11111111
11111011
00000001 halt
00000000 --- subroutine --- 
00000010 pushimm 2         X: A := 2
00000010 
00000101 popext A          
11111111
11111100
00000010 pushimm 0         if n != 0,
00000000
00000111 add
00000100 pop
00000110 jnz BOILER        goto BOILER
00000000
00101001
00000010 pushimm 1         else A := 1
00000001
00000101 popext A
11111111
11111100
00000101 popext H         BOILER: push address
00000000
00110101
00000101 popext L
00000000
00110110
00000010 pushimm 0         clear Z-flag
00000000
00000101 popext PSW
11111111
11111011
00000110 jnz
00000000 H:
00000000 L:
